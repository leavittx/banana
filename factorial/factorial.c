/* My program for fast factorial calculating */
#include <stdio.h>
#include <math.h>

#define pi 3.14159265358979323846264338327950288419716939937510582097494
#define e 2.718281828459045235360287471352662497757247093699959574966967

int main( void ) 
{
  long double fac, n, pown = 1;

  printf("number: ");
  scanf("%Lf", &n);

  fac = sqrtl(2 * pi * n) * powl(n / e, n) * \
		(1 + 1 / (12 * (pown *= n)) + 1 / (288 * (pown *= n)) \
		- 139 / (51840 * (pown *= n)) \
		- 571 / (2488320 * (pown *= n)) \
		+ 163879 / (209018880 * (pown *= n)) \
		+ 5246819 / (75246796800 * (pown *= n)) \
		- 534703531 / (902961561600 * (pown *= n)) \
		- 4483131259 / (86684309913600 * (pown *= n)) \
		+ 432261921612371 / (514904800886784000 * (pown *= n)) \
		+ 6232523202521089.0 / (86504006548979712000.0 * (pown *= n)) \
		- 25834629665134204969.0 / (13494625021640835072000.0 * (pown *= n)) \
		- 1579029138854919086429.0 / (9716130015581401251840000.0 * (pown *= n)) \
		+ 746590869962651602203151.0 / (116593560186976815022080000.0 * (pown *= n)) \
		+ 1511513601028097903631961.0 / (2798245444487443560529920000.0 * (pown *= n)) \
		- 8849272268392873147705987190261.0 / (299692087104605205332754432000000.0 * (pown *= n)) \
		- 142801712490607530608130701097701.0 / (57540880724084199423888850944000000.0 * (pown *= n)) \
		);

  printf("%.0Lf! = %.0Lf\n", n, fac);

  return 0;
}
